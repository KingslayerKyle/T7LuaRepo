CoD.Buildables = {}
CoD.Buildables.IconSize = 48
CoD.Buildables.PIECE_FADEOUT_DURATION = 500
CoD.Buildables.ClientFieldBuildableName = "buildable"
CoD.Buildables.ClientFieldBuildableName2 = "buildable_pu"
CoD.Buildables.ClientFieldBuildableName3 = "buildable_sq"
CoD.Buildables.BUILDABLE_PIECE_NONE = 0
CoD.Buildables.ClientFieldBuildableStates = {}
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT] = {}
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0] = {}
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][1] = RegisterMaterial( "zm_hud_icon_battery" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][2] = RegisterMaterial( "zm_hud_icon_dolly" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][3] = RegisterMaterial( "zm_hud_icon_cardoor" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][4] = RegisterMaterial( "zm_hud_icon_arm" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][5] = RegisterMaterial( "zm_hud_icon_panel" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][6] = RegisterMaterial( "zm_hud_icon_lever" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][7] = RegisterMaterial( "zm_hud_icon_papbody" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][8] = RegisterMaterial( "zm_hud_icon_chairleg" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][9] = RegisterMaterial( "zm_hud_icon_fan" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][10] = RegisterMaterial( "zm_hud_icon_rudder" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][11] = RegisterMaterial( "zm_hud_icon_mannequin" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][12] = RegisterMaterial( "zm_hud_icon_turrethead" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][13] = RegisterMaterial( "zm_hud_icon_lawnmower" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][14] = RegisterMaterial( "zm_hud_icon_ammobox" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][15] = RegisterMaterial( "zm_hud_icon_coil" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][16] = RegisterMaterial( "zm_hud_icon_tvtube" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][17] = RegisterMaterial( "zm_hud_icon_jetgun_wires" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][18] = RegisterMaterial( "zm_hud_icon_jetgun_engine" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][19] = RegisterMaterial( "zm_hud_icon_jetgun_gauges" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][20] = RegisterMaterial( "zm_hud_icon_jetgun_handles" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][21] = RegisterMaterial( "zm_hud_icon_plow" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][22] = RegisterMaterial( "zm_hud_icon_hatch" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][23] = RegisterMaterial( "zm_hud_icon_ladder" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][24] = RegisterMaterial( "zm_hud_icon_sq_powerbox" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][25] = RegisterMaterial( "zm_hud_icon_sq_meteor" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][26] = RegisterMaterial( "zm_hud_icon_sq_scafold" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_TRANSIT][0][27] = RegisterMaterial( "zm_hud_icon_sq_tranceiver" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE] = {}
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0] = {}
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0][1] = RegisterMaterial( "zom_hud_trample_steam_screen" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0][2] = RegisterMaterial( "zom_hud_trample_steam_bellow" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0][3] = RegisterMaterial( "zom_hud_trample_steam_compressor" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0][4] = RegisterMaterial( "zom_hud_trample_steam_whistle" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0][5] = RegisterMaterial( "zom_hud_icon_buildable_slip_ext" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0][6] = RegisterMaterial( "zom_hud_icon_buildable_slip_cooker" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0][7] = RegisterMaterial( "zom_hud_icon_buildable_slip_foot" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0][8] = RegisterMaterial( "zom_hud_icon_buildable_slip_handle" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0][9] = RegisterMaterial( "zom_hud_icon_epod_key" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0][10] = RegisterMaterial( "zm_hud_icon_sq_powerbox" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0][11] = RegisterMaterial( "zm_hud_icon_sq_meteor" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0][12] = RegisterMaterial( "zm_hud_icon_sq_scafold" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_HIGHRISE][0][13] = RegisterMaterial( "zm_hud_icon_sq_tranceiver" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED] = {}
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0] = {}
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][1] = RegisterMaterial( "zm_hud_icon_fan" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][2] = RegisterMaterial( "zm_hud_icon_rudder" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][3] = RegisterMaterial( "zm_hud_icon_mannequin" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][4] = RegisterMaterial( "zom_hud_trample_steam_screen" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][5] = RegisterMaterial( "zom_hud_trample_steam_bellow" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][6] = RegisterMaterial( "zom_hud_trample_steam_compressor" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][7] = RegisterMaterial( "zom_hud_trample_steam_whistle" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][8] = RegisterMaterial( "zom_hud_icon_buildable_woof_speaker" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][9] = RegisterMaterial( "zom_hud_icon_buildable_woof_motor" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][10] = RegisterMaterial( "zom_hud_icon_buildable_woof_frame" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][11] = RegisterMaterial( "zom_hud_icon_buildable_woof_chains" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][12] = RegisterMaterial( "zom_hud_icon_buildable_chop_a" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][13] = RegisterMaterial( "zom_hud_icon_buildable_chop_b" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][14] = RegisterMaterial( "zom_hud_icon_buildable_chop_c" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][0][15] = RegisterMaterial( "zom_hud_icon_buildable_chop_d" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][1] = {}
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][1][1] = RegisterMaterial( "zom_hud_icon_buildable_sloth_booze" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][1][2] = RegisterMaterial( "zom_hud_icon_buildable_sloth_candy" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][1][3] = RegisterMaterial( "zom_hud_icon_buildable_sloth_key" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][1][4] = RegisterMaterial( "zom_hud_icon_buildable_weap_chalk" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2] = {}
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2][1] = RegisterMaterial( "zm_hud_icon_sq_powerbox" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2][2] = RegisterMaterial( "zm_hud_icon_sq_meteor" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2][3] = RegisterMaterial( "zm_hud_icon_sq_scafold" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2][4] = RegisterMaterial( "zm_hud_icon_sq_tranceiver" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2][5] = RegisterMaterial( "zm_hud_icon_lever" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2][6] = RegisterMaterial( "zom_hud_icon_buildable_gen_lamp" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2][7] = RegisterMaterial( "zom_hud_icon_buildable_tower_vacuum" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2][8] = RegisterMaterial( "zm_hud_icon_battery" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2][9] = RegisterMaterial( "zom_hud_icon_buildable_tower_crystal" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2][10] = RegisterMaterial( "zom_hud_icon_buildable_tower_satellite" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2][11] = RegisterMaterial( "zom_hud_icon_buildable_tower_antenna" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2][12] = RegisterMaterial( "zm_hud_icon_spool" )
CoD.Buildables.ClientFieldBuildableStates[CoD.Zombie.MAP_ZM_BURIED][2][13] = RegisterMaterial( "zom_hud_icon_buildable_gen_lamp" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat = {}
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0] = {}
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][1] = RegisterMaterial( "zm_hud_icon_dolly" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][2] = RegisterMaterial( "zm_hud_icon_cardoor" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][3] = RegisterMaterial( "zm_hud_icon_plow" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][4] = RegisterMaterial( "zm_hud_icon_panel" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][5] = RegisterMaterial( "zm_hud_icon_lever" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][6] = RegisterMaterial( "zm_hud_icon_battery" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][7] = RegisterMaterial( "zm_hud_icon_papbody" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][8] = RegisterMaterial( "zm_hud_icon_chairleg" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][9] = RegisterMaterial( "zm_hud_icon_fan" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][10] = RegisterMaterial( "zm_hud_icon_rudder" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][11] = RegisterMaterial( "zm_hud_icon_mannequin" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][12] = RegisterMaterial( "zm_hud_icon_turrethead" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][13] = RegisterMaterial( "zm_hud_icon_lawnmower" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][14] = RegisterMaterial( "zm_hud_icon_ammobox" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][15] = RegisterMaterial( "zm_hud_icon_spool" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][16] = RegisterMaterial( "zm_hud_icon_coil" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][17] = RegisterMaterial( "zm_hud_icon_jetgun_wires" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][18] = RegisterMaterial( "zm_hud_icon_jetgun_engine" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][19] = RegisterMaterial( "zm_hud_icon_jetgun_gauges" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][20] = RegisterMaterial( "zm_hud_icon_jetgun_handles" )
CoD.Buildables.ClientFieldBuildableStates.zm_meat[0][21] = RegisterMaterial( "zm_hud_icon_hatch" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test = {}
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0] = {}
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][1] = RegisterMaterial( "zm_hud_icon_fan" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][2] = RegisterMaterial( "zm_hud_icon_mannequin" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][3] = RegisterMaterial( "zm_hud_icon_rudder" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][4] = RegisterMaterial( "zm_hud_icon_dolly" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][5] = RegisterMaterial( "zm_hud_icon_cardoor" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][6] = RegisterMaterial( "zom_hud_trample_steam_bellow" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][7] = RegisterMaterial( "zom_hud_trample_steam_compressor" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][8] = RegisterMaterial( "zom_hud_trample_steam_screen" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][9] = RegisterMaterial( "zom_hud_trample_steam_whistle" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][10] = RegisterMaterial( "zom_hud_icon_buildable_woof_chains" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][11] = RegisterMaterial( "zom_hud_icon_buildable_woof_motor" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][12] = RegisterMaterial( "zom_hud_icon_buildable_woof_frame" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][13] = RegisterMaterial( "zom_hud_icon_buildable_woof_speaker" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][14] = RegisterMaterial( "zom_hud_icon_buildable_chop_a" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][15] = RegisterMaterial( "zom_hud_icon_buildable_chop_b" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][16] = RegisterMaterial( "zom_hud_icon_buildable_chop_c" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][17] = RegisterMaterial( "zom_hud_icon_buildable_chop_d" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][18] = RegisterMaterial( "zm_hud_icon_turrethead" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][19] = RegisterMaterial( "zm_hud_icon_lawnmower" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][20] = RegisterMaterial( "zm_hud_icon_ammobox" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][21] = RegisterMaterial( "zm_hud_icon_battery" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][22] = RegisterMaterial( "zm_hud_icon_coil" )
CoD.Buildables.ClientFieldBuildableStates.zm_scriptbundle_test[0][23] = RegisterMaterial( "zm_hud_icon_tvtube" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test = {}
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0] = {}
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][1] = RegisterMaterial( "zm_hud_icon_dolly" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][2] = RegisterMaterial( "zm_hud_icon_cardoor" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][3] = RegisterMaterial( "zm_hud_icon_plow" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][4] = RegisterMaterial( "zm_hud_icon_fan" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][5] = RegisterMaterial( "zm_hud_icon_rudder" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][6] = RegisterMaterial( "zm_hud_icon_mannequin" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][7] = RegisterMaterial( "zm_hud_icon_turrethead" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][8] = RegisterMaterial( "zm_hud_icon_lawnmower" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][9] = RegisterMaterial( "zm_hud_icon_ammobox" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][10] = RegisterMaterial( "zm_hud_icon_tvtube" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][11] = RegisterMaterial( "zm_hud_icon_coil" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][12] = RegisterMaterial( "zm_hud_icon_battery" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][13] = RegisterMaterial( "zom_hud_trample_steam_screen" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][14] = RegisterMaterial( "zom_hud_trample_steam_bellow" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][15] = RegisterMaterial( "zom_hud_trample_steam_compressor" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][16] = RegisterMaterial( "zom_hud_trample_steam_whistle" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][17] = RegisterMaterial( "zom_hud_icon_buildable_woof_speaker" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][18] = RegisterMaterial( "zom_hud_icon_buildable_woof_motor" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][19] = RegisterMaterial( "zom_hud_icon_buildable_woof_frame" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][20] = RegisterMaterial( "zom_hud_icon_buildable_woof_chains" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][21] = RegisterMaterial( "zom_hud_icon_buildable_chop_a" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][22] = RegisterMaterial( "zom_hud_icon_buildable_chop_b" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][23] = RegisterMaterial( "zom_hud_icon_buildable_chop_c" )
CoD.Buildables.ClientFieldBuildableStates.zm_peter_test[0][24] = RegisterMaterial( "zom_hud_icon_buildable_chop_d" )
LUI.createMenu.BuildablesArea = function ( controller )
	local self = CoD.Menu.NewSafeAreaFromState( "BuildablesArea", controller )
	self:setOwner( controller )
	if CoD.Zombie.IsDLCMap( CoD.Zombie.DLC3Maps ) == false then
		self.scaleContainer = CoD.SplitscreenScaler.new( nil, CoD.Zombie.SplitscreenMultiplier )
		self.scaleContainer:setLeftRight( false, false, 0, 0 )
		self.scaleContainer:setTopBottom( false, true, 0, 0 )
		self:addElement( self.scaleContainer )
		local buildablePieceLeft = CoD.PowerUps.IconSize * 2.8
		local buildablePieceRight = buildablePieceLeft + CoD.Buildables.IconSize
		local buildablePieceBottom = 0
		local buildablePieceTop = buildablePieceBottom - CoD.Buildables.IconSize
		local buildablePieceIcon = LUI.UIImage.new()
		buildablePieceIcon:setLeftRight( false, false, buildablePieceLeft, buildablePieceRight )
		buildablePieceIcon:setTopBottom( false, true, buildablePieceTop, buildablePieceBottom )
		buildablePieceIcon:setAlpha( 0 )
		buildablePieceIcon:registerEventHandler( "transition_complete_off_fade_out", CoD.Buildables.PowerUpIcon_UpdatePosition )
		self.scaleContainer:addElement( buildablePieceIcon )
		self.pieceIcons = {}
		self.pieceIcons[0] = buildablePieceIcon
		self:registerEventHandler( CoD.Buildables.ClientFieldBuildableName, CoD.Buildables.Update )
	else
		self.scaleContainer = CoD.SplitscreenScaler.new( nil, CoD.Zombie.SplitscreenMultiplier )
		self.scaleContainer:setLeftRight( false, true, 0, 0 )
		self.scaleContainer:setTopBottom( false, true, 0, 0 )
		self:addElement( self.scaleContainer )
		local buildablePiece1LeftOffset = 230
		local buildablePieceBottom = 0
		local buildablePieceTop = buildablePieceBottom - CoD.Buildables.IconSize
		local buildablePieceIcon = LUI.UIImage.new()
		buildablePieceIcon:setLeftRight( false, true, -CoD.Buildables.IconSize - buildablePiece1LeftOffset, -buildablePiece1LeftOffset )
		buildablePieceIcon:setTopBottom( false, true, -CoD.Buildables.IconSize, 0 )
		buildablePieceIcon:setAlpha( 0 )
		buildablePieceIcon:registerEventHandler( "transition_complete_off_fade_out", CoD.Buildables.PowerUpIcon_UpdatePosition )
		self.scaleContainer:addElement( buildablePieceIcon )
		self.pieceIcons = {}
		self.pieceIcons[0] = buildablePieceIcon
		self:registerEventHandler( CoD.Buildables.ClientFieldBuildableName, CoD.Buildables.Update )
		local buildablePiece2LeftOffset = buildablePiece1LeftOffset + CoD.Buildables.IconSize + 2
		local buildablePieceIcon2 = LUI.UIImage.new()
		buildablePieceIcon2:setLeftRight( false, true, -CoD.Buildables.IconSize - buildablePiece2LeftOffset, -buildablePiece2LeftOffset )
		buildablePieceIcon2:setTopBottom( false, true, -CoD.Buildables.IconSize, 0 )
		buildablePieceIcon2:setAlpha( 0 )
		buildablePieceIcon2:registerEventHandler( "transition_complete_off_fade_out", CoD.Buildables.PowerUpIcon_UpdatePosition )
		self.scaleContainer:addElement( buildablePieceIcon2 )
		self.pieceIcons[1] = buildablePieceIcon2
		self:registerEventHandler( CoD.Buildables.ClientFieldBuildableName2, CoD.Buildables.UpdatePU )
		local buildablePiece3LeftOffset = buildablePiece2LeftOffset + CoD.Buildables.IconSize + 2
		local buildablePieceIcon3 = LUI.UIImage.new()
		buildablePieceIcon3:setLeftRight( false, true, -CoD.Buildables.IconSize - buildablePiece3LeftOffset, -buildablePiece3LeftOffset )
		buildablePieceIcon3:setTopBottom( false, true, -CoD.Buildables.IconSize, 0 )
		buildablePieceIcon3:setAlpha( 0 )
		buildablePieceIcon3:registerEventHandler( "transition_complete_off_fade_out", CoD.Buildables.PowerUpIcon_UpdatePosition )
		self.scaleContainer:addElement( buildablePieceIcon3 )
		self.pieceIcons[2] = buildablePieceIcon3
		self:registerEventHandler( CoD.Buildables.ClientFieldBuildableName3, CoD.Buildables.UpdateSQ )
	end
	self:registerEventHandler( "hud_update_refresh", CoD.Buildables.UpdateVisibility )
	self:registerEventHandler( "hud_update_bit_" .. Enum.UIVisibilityBit.BIT_EMP_ACTIVE, CoD.Buildables.UpdateVisibility )
	self:registerEventHandler( "hud_update_bit_" .. Enum.UIVisibilityBit.BIT_HUD_VISIBLE, CoD.Buildables.UpdateVisibility )
	self:registerEventHandler( "hud_update_bit_" .. Enum.UIVisibilityBit.BIT_UI_ACTIVE, CoD.Buildables.UpdateVisibility )
	self:registerEventHandler( "hud_update_bit_" .. Enum.UIVisibilityBit.BIT_SPECTATING_CLIENT, CoD.Buildables.UpdateVisibility )
	self:registerEventHandler( "hud_update_bit_" .. Enum.UIVisibilityBit.BIT_SCOREBOARD_OPEN, CoD.Buildables.UpdateVisibility )
	self:registerEventHandler( "hud_update_bit_" .. Enum.UIVisibilityBit.BIT_IN_VEHICLE, CoD.Buildables.UpdateVisibility )
	self:registerEventHandler( "hud_update_bit_" .. Enum.UIVisibilityBit.BIT_IN_GUIDED_MISSILE, CoD.Buildables.UpdateVisibility )
	self:registerEventHandler( "hud_update_bit_" .. Enum.UIVisibilityBit.BIT_IN_REMOTE_KILLSTREAK_STATIC, CoD.Buildables.UpdateVisibility )
	self:registerEventHandler( "hud_update_bit_" .. Enum.UIVisibilityBit.BIT_IS_SCOPED, CoD.Buildables.UpdateVisibility )
	self:registerEventHandler( "hud_update_bit_" .. Enum.UIVisibilityBit.BIT_IS_FLASH_BANGED, CoD.Buildables.UpdateVisibility )
	self:registerEventHandler( "hud_update_bit_" .. Enum.UIVisibilityBit.BIT_DEMO_CAMERA_MODE_MOVIECAM, CoD.Buildables.UpdateVisibility )
	self:registerEventHandler( "hud_update_bit_" .. Enum.UIVisibilityBit.BIT_DEMO_ALL_GAME_HUD_HIDDEN, CoD.Buildables.UpdateVisibility )
	self.visible = true
	return self
end

CoD.Buildables.UpdateVisibility = function ( self, event )
	local controller = event.controller
	if Engine.IsVisibilityBitSet( controller, Enum.UIVisibilityBit.BIT_HUD_VISIBLE ) and not Engine.IsVisibilityBitSet( controller, Enum.UIVisibilityBit.BIT_EMP_ACTIVE ) and not Engine.IsVisibilityBitSet( controller, Enum.UIVisibilityBit.BIT_DEMO_CAMERA_MODE_MOVIECAM ) and not Engine.IsVisibilityBitSet( controller, Enum.UIVisibilityBit.BIT_DEMO_ALL_GAME_HUD_HIDDEN ) and not Engine.IsVisibilityBitSet( controller, Enum.UIVisibilityBit.BIT_UI_ACTIVE ) and not Engine.IsVisibilityBitSet( controller, Enum.UIVisibilityBit.BIT_IN_KILLCAM ) and not Engine.IsVisibilityBitSet( controller, Enum.UIVisibilityBit.BIT_SCOREBOARD_OPEN ) and (not CoD.IsShoutcaster( controller ) or CoD.ExeProfileVarBool( controller, "shoutcaster_teamscore" )) and not Engine.IsVisibilityBitSet( controller, Enum.UIVisibilityBit.BIT_IN_GUIDED_MISSILE ) and not Engine.IsVisibilityBitSet( controller, Enum.UIVisibilityBit.BIT_IN_REMOTE_KILLSTREAK_STATIC ) and not Engine.IsVisibilityBitSet( controller, Enum.UIVisibilityBit.BIT_IS_SCOPED ) and not Engine.IsVisibilityBitSet( controller, Enum.UIVisibilityBit.BIT_IN_VEHICLE ) and not Engine.IsVisibilityBitSet( controller, Enum.UIVisibilityBit.BIT_IS_FLASH_BANGED ) then
		if not self.visible then
			self:setAlpha( 1 )
			self.visible = true
		end
	elseif self.visible then
		self:setAlpha( 0 )
		self.visible = nil
	end
end

CoD.Buildables.UpdateForSlot = function ( self, event, slot )
	local mapName = Dvar.ui_mapname:get()
	if mapName ~= nil then
		if event.newValue == CoD.Buildables.BUILDABLE_PIECE_NONE then
			self.pieceIcons[slot]:beginAnimation( "fade_out", CoD.Buildables.PIECE_FADEOUT_DURATION )
			self.pieceIcons[slot]:setAlpha( 0 )
		else
			if CoD.Buildables.ClientFieldBuildableStates[mapName] ~= nil then
				self.pieceIcons[slot]:setImage( CoD.Buildables.ClientFieldBuildableStates[mapName][slot][event.newValue] )
			end
			self.pieceIcons[slot]:setAlpha( 1 )
		end
	end
end

CoD.Buildables.Update = function ( self, event )
	CoD.Buildables.UpdateForSlot( self, event, 0 )
end

CoD.Buildables.UpdatePU = function ( self, event )
	CoD.Buildables.UpdateForSlot( self, event, 1 )
end

CoD.Buildables.UpdateSQ = function ( self, event )
	CoD.Buildables.UpdateForSlot( self, event, 2 )
end

