CoD.RewardSelectionButton = InheritFrom( LUI.UIElement )
CoD.RewardSelectionButton.new = function ( menu, controller )
	local self = LUI.UIElement.new()
	if PreLoadFunc then
		PreLoadFunc( self, controller )
	end
	self:setUseStencil( true )
	self:setClass( CoD.RewardSelectionButton )
	self.id = "RewardSelectionButton"
	self.soundSet = "default"
	self:setLeftRight( true, false, 0, 90 )
	self:setTopBottom( true, false, 0, 96 )
	
	local rewardOutlineBoxBack = LUI.UIImage.new()
	rewardOutlineBoxBack:setLeftRight( true, false, 0, 64 )
	rewardOutlineBoxBack:setTopBottom( true, false, 16, 80 )
	rewardOutlineBoxBack:setRGB( 1, 1, 1 )
	rewardOutlineBoxBack:setAlpha( 0 )
	rewardOutlineBoxBack:setImage( RegisterImage( "uie_hud_mp_vis_ks_dpad_box_back" ) )
	rewardOutlineBoxBack:setMaterial( LUI.UIImage.GetCachedMaterial( "ui_normal" ) )
	self:addElement( rewardOutlineBoxBack )
	self.rewardOutlineBoxBack = rewardOutlineBoxBack
	
	local rewardOutlineBoxBackLit = LUI.UIImage.new()
	rewardOutlineBoxBackLit:setLeftRight( true, false, 0, 64 )
	rewardOutlineBoxBackLit:setTopBottom( true, false, 16, 80 )
	rewardOutlineBoxBackLit:setRGB( 1, 1, 1 )
	rewardOutlineBoxBackLit:setImage( RegisterImage( "uie_hud_mp_vis_ks_dpad_box_back_lit" ) )
	rewardOutlineBoxBackLit:setMaterial( LUI.UIImage.GetCachedMaterial( "ui_normal" ) )
	self:addElement( rewardOutlineBoxBackLit )
	self.rewardOutlineBoxBackLit = rewardOutlineBoxBackLit
	
	local rewardOutlineBox = LUI.UIImage.new()
	rewardOutlineBox:setLeftRight( true, false, 0, 64 )
	rewardOutlineBox:setTopBottom( false, false, -32, 32 )
	rewardOutlineBox:setRGB( 1, 1, 1 )
	rewardOutlineBox:setImage( RegisterImage( "uie_hud_mp_vis_ks_dpad_box" ) )
	rewardOutlineBox:setMaterial( LUI.UIImage.GetCachedMaterial( "ui_add" ) )
	self:addElement( rewardOutlineBox )
	self.rewardOutlineBox = rewardOutlineBox
	
	local rewardImage = LUI.UIImage.new()
	rewardImage:setLeftRight( true, false, 0, 64 )
	rewardImage:setTopBottom( false, false, -32, 32 )
	rewardImage:setRGB( 1, 1, 1 )
	rewardImage:setImage( RegisterImage( "uie_ks_menu_u2_64" ) )
	rewardImage:setMaterial( LUI.UIImage.GetCachedMaterial( "ui_normal" ) )
	self:addElement( rewardImage )
	self.rewardImage = rewardImage
	
	local rewardOutlineBrackets = LUI.UIImage.new()
	rewardOutlineBrackets:setLeftRight( true, false, 0, 64 )
	rewardOutlineBrackets:setTopBottom( true, false, 16, 80 )
	rewardOutlineBrackets:setRGB( 1, 1, 1 )
	rewardOutlineBrackets:setImage( RegisterImage( "uie_hud_mp_vis_ks_dpad_bracket" ) )
	rewardOutlineBrackets:setMaterial( LUI.UIImage.GetCachedMaterial( "ui_add" ) )
	self:addElement( rewardOutlineBrackets )
	self.rewardOutlineBrackets = rewardOutlineBrackets
	
	local rightArrowImage = LUI.UIImage.new()
	rightArrowImage:setLeftRight( true, false, 58, 90 )
	rightArrowImage:setTopBottom( false, false, -16, 16 )
	rightArrowImage:setRGB( 1, 1, 1 )
	rightArrowImage:setImage( RegisterImage( "uie_hud_mp_vis_ks_dpad_arrow" ) )
	rightArrowImage:setMaterial( LUI.UIImage.GetCachedMaterial( "ui_add" ) )
	self:addElement( rightArrowImage )
	self.rightArrowImage = rightArrowImage
	
	local upArrowImage = LUI.UIImage.new()
	upArrowImage:setLeftRight( true, false, 16, 48 )
	upArrowImage:setTopBottom( true, false, 2, 34 )
	upArrowImage:setRGB( 1, 1, 1 )
	upArrowImage:setZRot( 90 )
	upArrowImage:setImage( RegisterImage( "uie_hud_mp_vis_ks_dpad_arrow" ) )
	upArrowImage:setMaterial( LUI.UIImage.GetCachedMaterial( "ui_add" ) )
	self:addElement( upArrowImage )
	self.upArrowImage = upArrowImage
	
	local downArrowImage = LUI.UIImage.new()
	downArrowImage:setLeftRight( true, false, 16, 48 )
	downArrowImage:setTopBottom( false, true, -32, 0 )
	downArrowImage:setRGB( 1, 1, 1 )
	downArrowImage:setZRot( -90 )
	downArrowImage:setImage( RegisterImage( "uie_hud_mp_vis_ks_dpad_arrow" ) )
	downArrowImage:setMaterial( LUI.UIImage.GetCachedMaterial( "ui_add" ) )
	self:addElement( downArrowImage )
	self.downArrowImage = downArrowImage
	
	self.clipsPerState = {
		DefaultState = {
			DefaultClip = function ()
				self:setupElementClipCounter( 8 )
				rewardOutlineBoxBack:completeAnimation()
				self.rewardOutlineBoxBack:setAlpha( 1 )
				self.clipFinished( rewardOutlineBoxBack, {} )
				rewardOutlineBoxBackLit:completeAnimation()
				self.rewardOutlineBoxBackLit:setAlpha( 0 )
				self.clipFinished( rewardOutlineBoxBackLit, {} )
				rewardOutlineBox:completeAnimation()
				self.rewardOutlineBox:setAlpha( 0.35 )
				self.clipFinished( rewardOutlineBox, {} )
				rewardImage:completeAnimation()
				self.rewardImage:setAlpha( 1 )
				self.clipFinished( rewardImage, {} )
				rewardOutlineBrackets:completeAnimation()
				self.rewardOutlineBrackets:setAlpha( 0 )
				self.clipFinished( rewardOutlineBrackets, {} )
				rightArrowImage:completeAnimation()
				self.rightArrowImage:setAlpha( 0 )
				self.clipFinished( rightArrowImage, {} )
				upArrowImage:completeAnimation()
				self.upArrowImage:setAlpha( 0 )
				self.clipFinished( upArrowImage, {} )
				downArrowImage:completeAnimation()
				self.downArrowImage:setAlpha( 0 )
				self.clipFinished( downArrowImage, {} )
			end
		},
		Invisible = {
			DefaultClip = function ()
				self:setupElementClipCounter( 8 )
				rewardOutlineBoxBack:completeAnimation()
				self.rewardOutlineBoxBack:setAlpha( 0 )
				self.clipFinished( rewardOutlineBoxBack, {} )
				rewardOutlineBoxBackLit:completeAnimation()
				self.rewardOutlineBoxBackLit:setAlpha( 0 )
				self.clipFinished( rewardOutlineBoxBackLit, {} )
				rewardOutlineBox:completeAnimation()
				self.rewardOutlineBox:setAlpha( 0 )
				self.clipFinished( rewardOutlineBox, {} )
				rewardImage:completeAnimation()
				self.rewardImage:setAlpha( 0 )
				self.clipFinished( rewardImage, {} )
				rewardOutlineBrackets:completeAnimation()
				self.rewardOutlineBrackets:setAlpha( 0 )
				self.clipFinished( rewardOutlineBrackets, {} )
				rightArrowImage:completeAnimation()
				self.rightArrowImage:setAlpha( 0 )
				self.clipFinished( rightArrowImage, {} )
				upArrowImage:completeAnimation()
				self.upArrowImage:setAlpha( 0 )
				self.clipFinished( upArrowImage, {} )
				downArrowImage:completeAnimation()
				self.downArrowImage:setAlpha( 0 )
				self.clipFinished( downArrowImage, {} )
			end
		},
		KillstreakActive = {
			DefaultClip = function ()
				self:setupElementClipCounter( 8 )
				rewardOutlineBoxBack:completeAnimation()
				self.rewardOutlineBoxBack:setAlpha( 0 )
				self.clipFinished( rewardOutlineBoxBack, {} )
				rewardOutlineBoxBackLit:completeAnimation()
				self.rewardOutlineBoxBackLit:setAlpha( 1 )
				self.clipFinished( rewardOutlineBoxBackLit, {} )
				rewardOutlineBox:completeAnimation()
				self.rewardOutlineBox:setAlpha( 1 )
				self.clipFinished( rewardOutlineBox, {} )
				rewardImage:completeAnimation()
				self.rewardImage:setAlpha( 1 )
				self.clipFinished( rewardImage, {} )
				rewardOutlineBrackets:completeAnimation()
				self.rewardOutlineBrackets:setAlpha( 0 )
				self.clipFinished( rewardOutlineBrackets, {} )
				rightArrowImage:completeAnimation()
				self.rightArrowImage:setAlpha( 0 )
				self.rightArrowImage:setXRot( 0 )
				self.clipFinished( rightArrowImage, {} )
				upArrowImage:completeAnimation()
				self.upArrowImage:setAlpha( 0 )
				self.upArrowImage:setXRot( 0 )
				self.clipFinished( upArrowImage, {} )
				downArrowImage:completeAnimation()
				self.downArrowImage:setAlpha( 0 )
				self.downArrowImage:setXRot( 0 )
				self.clipFinished( downArrowImage, {} )
			end,
			Focus = function ()
				self:setupElementClipCounter( 8 )
				rewardOutlineBoxBack:completeAnimation()
				self.rewardOutlineBoxBack:setAlpha( 0 )
				self.clipFinished( rewardOutlineBoxBack, {} )
				rewardOutlineBoxBackLit:completeAnimation()
				self.rewardOutlineBoxBackLit:setAlpha( 1 )
				self.clipFinished( rewardOutlineBoxBackLit, {} )
				rewardOutlineBox:completeAnimation()
				self.rewardOutlineBox:setAlpha( 1 )
				self.clipFinished( rewardOutlineBox, {} )
				rewardImage:completeAnimation()
				self.rewardImage:setAlpha( 1 )
				self.clipFinished( rewardImage, {} )
				rewardOutlineBrackets:completeAnimation()
				self.rewardOutlineBrackets:setAlpha( 1 )
				self.clipFinished( rewardOutlineBrackets, {} )
				rightArrowImage:completeAnimation()
				self.rightArrowImage:setAlpha( 1 )
				self.clipFinished( rightArrowImage, {} )
				upArrowImage:completeAnimation()
				self.upArrowImage:setAlpha( 1 )
				self.clipFinished( upArrowImage, {} )
				downArrowImage:completeAnimation()
				self.downArrowImage:setAlpha( 1 )
				self.clipFinished( downArrowImage, {} )
			end
		}
	}
	if PostLoadFunc then
		PostLoadFunc( self, controller, menu )
	end
	return self
end

