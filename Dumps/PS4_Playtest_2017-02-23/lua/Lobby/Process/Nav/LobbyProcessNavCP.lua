require( "lua.Lobby.Process.LobbyProcess" )

Lobby.Core.AddProcessForward( LuaEnum.UI.LAN_CP, LuaEnum.UI.LAN_CP_CUSTOM, function ( controller, fromTarget, toTarget )
	return Lobby.ProcessNavigate.ChangeToCPLANCustomGameLobby( controller, fromTarget, toTarget )
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.LAN_CP, LuaEnum.UI.MODE_SELECT_LAN, function ( controller, fromTarget, toTarget )
	local toModeSelectProcess = Lobby.ProcessNavigate.ExitLANLobby( controller, fromTarget, toTarget, LuaEnum.LEAVE_WITH_PARTY.WITH, "" )
	local modeSelectMenu = LobbyData.GetLobbyMenuByName( LuaEnum.UI.MODE_SELECT_LAN )
	local mainMenu = LobbyData.GetLobbyMenuByName( LuaEnum.UI.MAIN )
	if CoDShared.IsDirectorEnabled() == false and Engine.GetDvarInt( "mp_prototype" ) ~= 0 and Engine.IsUsingCursor() and Engine.GetDvarBool( "ui_usingFreeCursor" ) then
		local moveToMainProcess = Lobby.ProcessNavigate.LeavePrivateLobby( controller, modeSelectMenu, mainMenu )
		Lobby.Process.AppendProcess( toModeSelectProcess, moveToMainProcess )
	end
	return toModeSelectProcess
end )
Lobby.Core.AddProcessForward( LuaEnum.UI.LAN_CP, LuaEnum.UI.LAN_MP, function ( controller, fromTarget, toTarget )
	local modeSelectMenu = LobbyData.GetLobbyMenuByName( LuaEnum.UI.MODE_SELECT_LAN )
	local mpLanMenu = LobbyData.GetLobbyMenuByName( LuaEnum.UI.LAN_MP )
	local toModeSelectProcess = Lobby.ProcessNavigate.LeaveGameLobby( controller, fromTarget, modeSelectMenu, LuaEnum.LEAVE_WITH_PARTY.WITH, "" )
	local f3_local0 = Lobby.Core.GetForwardProcessFunc( modeSelectMenu, mpLanMenu )
	local moveToMPProcess = f3_local0( controller, modeSelectMenu, mpLanMenu )
	Lobby.Process.AppendProcess( toModeSelectProcess, moveToMPProcess )
	return toModeSelectProcess
end )
Lobby.Core.AddProcessForward( LuaEnum.UI.LAN_CP_CUSTOM, LuaEnum.UI.LAN_MP, function ( controller, fromTarget, toTarget )
	local cpLanMenu = LobbyData.GetLobbyMenuByName( LuaEnum.UI.LAN_CP )
	local modeSelectMenu = LobbyData.GetLobbyMenuByName( LuaEnum.UI.MODE_SELECT_LAN )
	local mpLanMenu = LobbyData.GetLobbyMenuByName( LuaEnum.UI.LAN_MP )
	local toCPLanProcess = Lobby.ProcessNavigate.LeaveCPLANGameLobby( controller, fromTarget, cpLanMenu, LuaEnum.LEAVE_WITH_PARTY.WITH, "" )
	local toModeSelectProcess = Lobby.ProcessNavigate.LeaveGameLobby( controller, cpLanMenu, modeSelectMenu, LuaEnum.LEAVE_WITH_PARTY.WITH, "" )
	local f4_local0 = Lobby.Core.GetForwardProcessFunc( modeSelectMenu, mpLanMenu )
	local moveToMPProcess = f4_local0( controller, modeSelectMenu, mpLanMenu )
	Lobby.Process.AppendProcess( toCPLanProcess, toModeSelectProcess )
	Lobby.Process.AppendProcess( toModeSelectProcess, moveToMPProcess )
	return toCPLanProcess
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.LAN_CP_CUSTOM, LuaEnum.UI.LAN_CP, function ( controller, fromTarget, toTarget )
	return Lobby.ProcessNavigate.LeaveCPLANGameLobby( controller, fromTarget, toTarget, LuaEnum.LEAVE_WITH_PARTY.WITH, "" )
end )
Lobby.Core.AddProcessForward( LuaEnum.UI.ONLINE_CP, LuaEnum.UI.ONLINE_CP_CUSTOM, function ( controller, fromTarget, toTarget )
	return Lobby.ProcessNavigate.ChangeToCustomGameLobby( controller, fromTarget, toTarget )
end )
Lobby.Core.AddProcessForward( LuaEnum.UI.ONLINE_CP, LuaEnum.UI.ONLINE_CP_PUBLIC, function ( controller, fromTarget, toTarget )
	return Lobby.ProcessNavigate.ChangeToCPPublicGameLobby( controller, fromTarget, toTarget )
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.ONLINE_CP, LuaEnum.UI.MODE_SELECT_ONLINE, function ( controller, fromTarget, toTarget, withParty )
	return Lobby.ProcessNavigate.LeaveGameLobby( controller, fromTarget, toTarget, withParty )
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.ONLINE_CP_PUBLIC, LuaEnum.UI.ONLINE_CP, function ( controller, fromTarget, toTarget, withParty )
	return Lobby.ProcessNavigate.ChangeToPrivateGameLobby( controller, fromTarget, toTarget, withParty )
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.ONLINE_CP_CUSTOM, LuaEnum.UI.ONLINE_CP, function ( controller, fromTarget, toTarget, withParty )
	return Lobby.ProcessNavigate.ChangeToPrivateGameLobby( controller, fromTarget, toTarget, withParty )
end )
Lobby.Core.AddProcessForward( LuaEnum.UI.LAN_CP2, LuaEnum.UI.LAN_CP2_CUSTOM, function ( controller, fromTarget, toTarget )
	return Lobby.ProcessNavigate.ChangeToCPLANCustomGameLobby( controller, fromTarget, toTarget )
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.LAN_CP2, LuaEnum.UI.MODE_SELECT_LAN, function ( controller, fromTarget, toTarget )
	return Lobby.ProcessNavigate.LeaveGameLobby( controller, fromTarget, toTarget, LuaEnum.LEAVE_WITH_PARTY.WITHOUT, "" )
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.LAN_CP2_CUSTOM, LuaEnum.UI.LAN_CP2, function ( controller, fromTarget, toTarget, withParty )
	return Lobby.ProcessNavigate.LeaveCPLANGameLobby( controller, fromTarget, toTarget, withParty, "" )
end )
Lobby.Core.AddProcessForward( LuaEnum.UI.ONLINE_CP2, LuaEnum.UI.ONLINE_CP2_CUSTOM, function ( controller, fromTarget, toTarget )
	return Lobby.ProcessNavigate.ChangeToCustomGameLobby( controller, fromTarget, toTarget )
end )
Lobby.Core.AddProcessForward( LuaEnum.UI.ONLINE_CP2, LuaEnum.UI.ONLINE_CP2_PUBLIC, function ( controller, fromTarget, toTarget )
	return Lobby.ProcessNavigate.ChangeToCPPublicGameLobby( controller, fromTarget, toTarget )
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.ONLINE_CP2, LuaEnum.UI.MODE_SELECT_ONLINE, function ( controller, fromTarget, toTarget, withParty )
	return Lobby.ProcessNavigate.LeaveGameLobby( controller, fromTarget, toTarget, withParty )
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.ONLINE_CP2_PUBLIC, LuaEnum.UI.ONLINE_CP2, function ( controller, fromTarget, toTarget, withParty )
	return Lobby.ProcessNavigate.ChangeToPrivateGameLobby( controller, fromTarget, toTarget, withParty )
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.ONLINE_CP2_CUSTOM, LuaEnum.UI.ONLINE_CP2, function ( controller, fromTarget, toTarget, withParty )
	return Lobby.ProcessNavigate.ChangeToPrivateGameLobby( controller, fromTarget, toTarget, withParty )
end )
Lobby.Core.AddProcessForward( LuaEnum.UI.ONLINE_DOA, LuaEnum.UI.ONLINE_DOA_PUBLIC, function ( controller, fromTarget, toTarget )
	return Lobby.ProcessNavigate.ChangeToCPPublicGameLobby( controller, fromTarget, toTarget )
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.ONLINE_DOA, LuaEnum.UI.MODE_SELECT_ONLINE, function ( controller, fromTarget, toTarget, withParty )
	return Lobby.ProcessNavigate.LeaveGameLobby( controller, fromTarget, toTarget, withParty )
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.ONLINE_DOA_PUBLIC, LuaEnum.UI.ONLINE_DOA, function ( controller, fromTarget, toTarget, withParty )
	return Lobby.ProcessNavigate.ChangeToPrivateGameLobby( controller, fromTarget, toTarget, withParty )
end )
Lobby.Core.AddProcessForward( LuaEnum.UI.ONLINE_DOA, LuaEnum.UI.ONLINE_CP_CUSTOM, function ( controller, fromTarget, toTarget )
	return Lobby.ProcessNavigate.ChangeToCustomGameLobby( controller, fromTarget, toTarget )
end )
Lobby.Core.AddProcessForward( LuaEnum.UI.ONLINE_DOA, LuaEnum.UI.ONLINE_CP_PUBLIC, function ( controller, fromTarget, toTarget )
	return Lobby.ProcessNavigate.ChangeToCPPublicGameLobby( controller, fromTarget, toTarget )
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.LAN_DOA, LuaEnum.UI.MODE_SELECT_LAN, function ( controller, fromTarget, toTarget )
	return Lobby.ProcessNavigate.LeaveGameLobby( controller, fromTarget, toTarget, LuaEnum.LEAVE_WITH_PARTY.WITHOUT, "" )
end )
Lobby.Core.AddProcessBack( LuaEnum.UI.LAN_DOA_CUSTOM, LuaEnum.UI.LAN_DOA, function ( controller, fromTarget, toTarget, withParty )
	return Lobby.ProcessNavigate.LeaveCPLANGameLobby( controller, fromTarget, toTarget, withParty, "" )
end )
