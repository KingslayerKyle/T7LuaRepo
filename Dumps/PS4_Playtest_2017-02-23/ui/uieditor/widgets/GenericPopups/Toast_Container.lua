require( "ui.uieditor.widgets.CallingCards.CallingCards_FrameWidget" )
require( "ui.uieditor.widgets.GenericPopups.GP_FrameBackgroundt" )
require( "ui.uieditor.widgets.GenericPopups.LOOT_ToastFrameBackground" )
require( "ui.uieditor.widgets.GenericPopups.Toast_BonusOutline" )
require( "ui.uieditor.widgets.horizontalScrollingTextBox_30pt" )

CoD.Toast_Container = InheritFrom( LUI.UIElement )
CoD.Toast_Container.new = function ( menu, controller )
	local self = LUI.UIElement.new()
	if PreLoadFunc then
		PreLoadFunc( self, controller )
	end
	self:setUseStencil( false )
	self:setClass( CoD.Toast_Container )
	self.id = "Toast_Container"
	self.soundSet = "ChooseDecal"
	self:setLeftRight( 0, 0, 0, 460 )
	self:setTopBottom( 0, 0, 0, 97 )
	self.anyChildUsesUpdateState = true
	
	local LOOTToastFrameBackground = CoD.LOOT_ToastFrameBackground.new( menu, controller )
	LOOTToastFrameBackground:setLeftRight( 0, 0, -30, 490 )
	LOOTToastFrameBackground:setTopBottom( 0, 0, -30, 139 )
	LOOTToastFrameBackground:setAlpha( 0 )
	self:addElement( LOOTToastFrameBackground )
	self.LOOTToastFrameBackground = LOOTToastFrameBackground
	
	local ToastBonusOutline = CoD.Toast_BonusOutline.new( menu, controller )
	ToastBonusOutline:setLeftRight( 0, 0, -3, 453 )
	ToastBonusOutline:setTopBottom( 0, 0, -114, 110 )
	ToastBonusOutline:setAlpha( 0 )
	self:addElement( ToastBonusOutline )
	self.ToastBonusOutline = ToastBonusOutline
	
	local EmblemDecal = LUI.UIImage.new()
	EmblemDecal:setLeftRight( 0, 0, 165, 285 )
	EmblemDecal:setTopBottom( 0, 0, -112, 8 )
	EmblemDecal:setAlpha( 0 )
	self:addElement( EmblemDecal )
	self.EmblemDecal = EmblemDecal
	
	local FrameBackground = CoD.GP_FrameBackgroundt.new( menu, controller )
	FrameBackground:setLeftRight( 0, 1, -45, 43 )
	FrameBackground:setTopBottom( 0, 1, -1, 5 )
	self:addElement( FrameBackground )
	self.FrameBackground = FrameBackground
	
	local ContentIcon = LUI.UIImage.new()
	ContentIcon:setLeftRight( 0, 0, 3, 97 )
	ContentIcon:setTopBottom( 0, 0, 3, 97 )
	self:addElement( ContentIcon )
	self.ContentIcon = ContentIcon
	
	local FunctionIcon = LUI.UIImage.new()
	FunctionIcon:setLeftRight( 1, 1, -35, -2 )
	FunctionIcon:setTopBottom( 0, 0, 3, 36 )
	self:addElement( FunctionIcon )
	self.FunctionIcon = FunctionIcon
	
	local Kicker = LUI.UIText.new()
	Kicker:setLeftRight( 0, 0, 111, 414 )
	Kicker:setTopBottom( 0, 0, 9, 39 )
	Kicker:setText( Engine.Localize( "MENU_NEW" ) )
	Kicker:setTTF( "fonts/RefrigeratorDeluxe-Regular.ttf" )
	Kicker:setAlignment( Enum.LUIAlignment.LUI_ALIGNMENT_LEFT )
	Kicker:setAlignment( Enum.LUIAlignment.LUI_ALIGNMENT_TOP )
	self:addElement( Kicker )
	self.Kicker = Kicker
	
	local ToastHeaderWidget = CoD.horizontalScrollingTextBox_30pt.new( menu, controller )
	ToastHeaderWidget:setLeftRight( 0, 0, 111, 453 )
	ToastHeaderWidget:setTopBottom( 0, 0, 29, 80 )
	ToastHeaderWidget.textBox:setText( Engine.Localize( "WEAPON_AR_STANDARD" ) )
	ToastHeaderWidget.textBox:setTTF( "fonts/default.ttf" )
	ToastHeaderWidget.textBox:setAlignment( Enum.LUIAlignment.LUI_ALIGNMENT_LEFT )
	self:addElement( ToastHeaderWidget )
	self.ToastHeaderWidget = ToastHeaderWidget
	
	local Description = LUI.UIText.new()
	Description:setLeftRight( 0, 0, 0, 450 )
	Description:setTopBottom( 0, 0, 50, 84 )
	Description:setAlpha( 0 )
	Description:setText( Engine.Localize( "MENU_NEW" ) )
	Description:setTTF( "fonts/RefrigeratorDeluxe-Regular.ttf" )
	Description:setAlignment( Enum.LUIAlignment.LUI_ALIGNMENT_CENTER )
	Description:setAlignment( Enum.LUIAlignment.LUI_ALIGNMENT_TOP )
	self:addElement( Description )
	self.Description = Description
	
	local CallingCardsFrameWidget = CoD.CallingCards_FrameWidget.new( menu, controller )
	CallingCardsFrameWidget:setLeftRight( 0.5, 0.5, 0, 0 )
	CallingCardsFrameWidget:setTopBottom( 0.5, 0.5, -97, -97 )
	CallingCardsFrameWidget:setAlpha( 0 )
	CallingCardsFrameWidget.CardIconFrame:setScale( 0.62 )
	CallingCardsFrameWidget:linkToElementModel( self, nil, false, function ( model )
		CallingCardsFrameWidget:setModel( model, controller )
	end )
	self:addElement( CallingCardsFrameWidget )
	self.CallingCardsFrameWidget = CallingCardsFrameWidget
	
	self.resetProperties = function ()
		ContentIcon:completeAnimation()
		FunctionIcon:completeAnimation()
		Kicker:completeAnimation()
		ToastHeaderWidget:completeAnimation()
		Description:completeAnimation()
		ToastBonusOutline:completeAnimation()
		EmblemDecal:completeAnimation()
		FrameBackground:completeAnimation()
		LOOTToastFrameBackground:completeAnimation()
		CallingCardsFrameWidget:completeAnimation()
		ContentIcon:setLeftRight( 0, 0, 3, 97 )
		ContentIcon:setTopBottom( 0, 0, 3, 97 )
		ContentIcon:setAlpha( 1 )
		FunctionIcon:setLeftRight( 1, 1, -35, -2 )
		FunctionIcon:setTopBottom( 0, 0, 3, 36 )
		FunctionIcon:setAlpha( 1 )
		Kicker:setLeftRight( 0, 0, 111, 414 )
		Kicker:setTopBottom( 0, 0, 9, 39 )
		Kicker:setRGB( 1, 1, 1 )
		Kicker:setScale( 1 )
		Kicker:setAlignment( Enum.LUIAlignment.LUI_ALIGNMENT_LEFT )
		ToastHeaderWidget:setLeftRight( 0, 0, 111, 453 )
		ToastHeaderWidget:setTopBottom( 0, 0, 29, 80 )
		ToastHeaderWidget:setAlpha( 1 )
		Description:setLeftRight( 0, 0, 0, 450 )
		Description:setTopBottom( 0, 0, 50, 84 )
		Description:setRGB( 1, 1, 1 )
		Description:setAlpha( 0 )
		Description:setScale( 1 )
		ToastBonusOutline:setLeftRight( 0, 0, -3, 453 )
		ToastBonusOutline:setTopBottom( 0, 0, -114, 110 )
		EmblemDecal:setLeftRight( 0, 0, 165, 285 )
		EmblemDecal:setTopBottom( 0, 0, -112, 8 )
		EmblemDecal:setAlpha( 0 )
		FrameBackground:setAlpha( 1 )
		LOOTToastFrameBackground:setLeftRight( 0, 0, -30, 490 )
		LOOTToastFrameBackground:setTopBottom( 0, 0, -30, 139 )
		LOOTToastFrameBackground:setAlpha( 0 )
		CallingCardsFrameWidget:setLeftRight( 0.5, 0.5, 0, 0 )
		CallingCardsFrameWidget:setTopBottom( 0.5, 0.5, -97, -97 )
		CallingCardsFrameWidget:setAlpha( 0 )
	end
	
	self.clipsPerState = {
		DefaultState = {
			DefaultClip = function ()
				self.resetProperties()
				self:setupElementClipCounter( 4 )
				ContentIcon:completeAnimation()
				self.ContentIcon:setLeftRight( 0, 0, 2, 98 )
				self.ContentIcon:setTopBottom( 0, 0, 2, 98 )
				self.clipFinished( ContentIcon, {} )
				FunctionIcon:completeAnimation()
				self.FunctionIcon:setLeftRight( 1, 1, -35, -2 )
				self.FunctionIcon:setTopBottom( 0, 0, 1, 34 )
				self.clipFinished( FunctionIcon, {} )
				Kicker:completeAnimation()
				self.Kicker:setLeftRight( 0, 0, 111, 414 )
				self.Kicker:setTopBottom( 0, 0, 13, 43 )
				self.Kicker:setRGB( 0.32, 0.53, 0.49 )
				self.clipFinished( Kicker, {} )
				ToastHeaderWidget:completeAnimation()
				self.ToastHeaderWidget:setLeftRight( 0, 0, 110.5, 461.5 )
				self.ToastHeaderWidget:setTopBottom( 0, 0, 35, 86 )
				self.clipFinished( ToastHeaderWidget, {} )
			end
		},
		Content = {
			DefaultClip = function ()
				self.resetProperties()
				self:setupElementClipCounter( 4 )
				ContentIcon:completeAnimation()
				self.ContentIcon:setLeftRight( 0, 0, 2, 98 )
				self.ContentIcon:setTopBottom( 0, 0, 2, 98 )
				self.clipFinished( ContentIcon, {} )
				FunctionIcon:completeAnimation()
				self.FunctionIcon:setLeftRight( 1, 1, -36, -3 )
				self.FunctionIcon:setTopBottom( 0, 0, 0, 33 )
				self.clipFinished( FunctionIcon, {} )
				Kicker:completeAnimation()
				self.Kicker:setRGB( 0.6, 0.91, 0.84 )
				self.clipFinished( Kicker, {} )
				ToastHeaderWidget:completeAnimation()
				self.ToastHeaderWidget:setLeftRight( 0, 0, 110.5, 461.5 )
				self.ToastHeaderWidget:setTopBottom( 0, 0, 35, 86 )
				self.clipFinished( ToastHeaderWidget, {} )
			end
		},
		LootBonusDecal = {
			DefaultClip = function ()
				self.resetProperties()
				self:setupElementClipCounter( 9 )
				LOOTToastFrameBackground:completeAnimation()
				self.LOOTToastFrameBackground:setLeftRight( 0, 0, -30, 490 )
				self.LOOTToastFrameBackground:setTopBottom( 0, 0, -115.5, 138.5 )
				self.LOOTToastFrameBackground:setAlpha( 1 )
				self.clipFinished( LOOTToastFrameBackground, {} )
				ToastBonusOutline:completeAnimation()
				self.ToastBonusOutline:setLeftRight( 0, 0, 0, 450 )
				self.ToastBonusOutline:setTopBottom( 0, 0, -115.5, 109.5 )
				self.clipFinished( ToastBonusOutline, {} )
				EmblemDecal:completeAnimation()
				self.EmblemDecal:setLeftRight( 0, 0, 177, 287 )
				self.EmblemDecal:setTopBottom( 0, 0, -85, 25 )
				self.EmblemDecal:setAlpha( 1 )
				self.clipFinished( EmblemDecal, {} )
				FrameBackground:completeAnimation()
				self.FrameBackground:setAlpha( 0 )
				self.clipFinished( FrameBackground, {} )
				ContentIcon:completeAnimation()
				self.ContentIcon:setLeftRight( 0, 0, 6.5, 81.5 )
				self.ContentIcon:setTopBottom( 0, 0, 6.5, 81.5 )
				self.ContentIcon:setAlpha( 0 )
				self.clipFinished( ContentIcon, {} )
				FunctionIcon:completeAnimation()
				self.FunctionIcon:setAlpha( 0 )
				self.clipFinished( FunctionIcon, {} )
				Kicker:completeAnimation()
				self.Kicker:setLeftRight( 0, 0, 4, 455 )
				self.Kicker:setTopBottom( 0, 0, 26.5, 65.5 )
				self.Kicker:setScale( 1.1 )
				self.Kicker:setAlignment( Enum.LUIAlignment.LUI_ALIGNMENT_CENTER )
				self.clipFinished( Kicker, {} )
				ToastHeaderWidget:completeAnimation()
				self.ToastHeaderWidget:setAlpha( 0 )
				self.clipFinished( ToastHeaderWidget, {} )
				Description:completeAnimation()
				self.Description:setLeftRight( 0, 0, 5, 455 )
				self.Description:setTopBottom( 0, 0, 59, 93 )
				self.Description:setRGB( 0.6, 0.91, 0.84 )
				self.Description:setAlpha( 1 )
				self.Description:setScale( 0.9 )
				self.clipFinished( Description, {} )
			end
		},
		LootBonusCallingCard = {
			DefaultClip = function ()
				self.resetProperties()
				self:setupElementClipCounter( 9 )
				LOOTToastFrameBackground:completeAnimation()
				self.LOOTToastFrameBackground:setLeftRight( 0, 0, -27, 487 )
				self.LOOTToastFrameBackground:setTopBottom( 0, 0, -116.5, 137.5 )
				self.LOOTToastFrameBackground:setAlpha( 1 )
				self.clipFinished( LOOTToastFrameBackground, {} )
				ToastBonusOutline:completeAnimation()
				self.ToastBonusOutline:setLeftRight( 0, 0, 1.5, 448.5 )
				self.ToastBonusOutline:setTopBottom( 0, 0, -115.5, 109.5 )
				self.clipFinished( ToastBonusOutline, {} )
				FrameBackground:completeAnimation()
				self.FrameBackground:setAlpha( 0 )
				self.clipFinished( FrameBackground, {} )
				ContentIcon:completeAnimation()
				self.ContentIcon:setLeftRight( 0, 0, 0, 450 )
				self.ContentIcon:setTopBottom( 0, 0, -114, -2 )
				self.ContentIcon:setAlpha( 0 )
				self.clipFinished( ContentIcon, {} )
				FunctionIcon:completeAnimation()
				self.FunctionIcon:setAlpha( 0 )
				self.clipFinished( FunctionIcon, {} )
				Kicker:completeAnimation()
				self.Kicker:setLeftRight( 0, 0, 4.5, 454.5 )
				self.Kicker:setTopBottom( 0, 0, 25.5, 64.5 )
				self.Kicker:setScale( 1.1 )
				self.Kicker:setAlignment( Enum.LUIAlignment.LUI_ALIGNMENT_CENTER )
				self.clipFinished( Kicker, {} )
				ToastHeaderWidget:completeAnimation()
				self.ToastHeaderWidget:setAlpha( 0 )
				self.clipFinished( ToastHeaderWidget, {} )
				Description:completeAnimation()
				self.Description:setLeftRight( 0, 0, 5, 455 )
				self.Description:setTopBottom( 0, 0, 60, 94 )
				self.Description:setRGB( 0.6, 0.91, 0.84 )
				self.Description:setAlpha( 1 )
				self.Description:setScale( 0.9 )
				self.clipFinished( Description, {} )
				CallingCardsFrameWidget:completeAnimation()
				self.CallingCardsFrameWidget:setLeftRight( 0.5, 0.5, 4, 4 )
				self.CallingCardsFrameWidget:setTopBottom( 0.5, 0.5, -74, -74 )
				self.CallingCardsFrameWidget:setAlpha( 1 )
				self.clipFinished( CallingCardsFrameWidget, {} )
			end
		},
		RecentGameBookmarked = {
			DefaultClip = function ()
				self.resetProperties()
				self:setupElementClipCounter( 0 )
			end
		},
		Fileshare = {
			DefaultClip = function ()
				self.resetProperties()
				self:setupElementClipCounter( 0 )
			end
		},
		Invite = {
			DefaultClip = function ()
				self.resetProperties()
				self:setupElementClipCounter( 0 )
			end
		},
		BreakVariantLink = {
			DefaultClip = function ()
				self.resetProperties()
				self:setupElementClipCounter( 0 )
			end
		},
		BlackMarketEquipped = {
			DefaultClip = function ()
				self.resetProperties()
				self:setupElementClipCounter( 6 )
				LOOTToastFrameBackground:completeAnimation()
				self.LOOTToastFrameBackground:setAlpha( 1 )
				self.clipFinished( LOOTToastFrameBackground, {} )
				FrameBackground:completeAnimation()
				self.FrameBackground:setAlpha( 0 )
				self.clipFinished( FrameBackground, {} )
				ContentIcon:completeAnimation()
				self.ContentIcon:setLeftRight( 0, 0, 2, 98 )
				self.ContentIcon:setTopBottom( 0, 0, 0, 96 )
				self.clipFinished( ContentIcon, {} )
				FunctionIcon:completeAnimation()
				self.FunctionIcon:setLeftRight( 1, 1, -36, -3 )
				self.FunctionIcon:setTopBottom( 0, 0, 0, 33 )
				self.clipFinished( FunctionIcon, {} )
				Kicker:completeAnimation()
				self.Kicker:setLeftRight( 0, 0, 110.5, 424.5 )
				self.Kicker:setTopBottom( 0, 0, 18, 48 )
				self.Kicker:setRGB( 0.6, 0.91, 0.84 )
				self.clipFinished( Kicker, {} )
				ToastHeaderWidget:completeAnimation()
				self.ToastHeaderWidget:setLeftRight( 0, 0, 110.5, 449.5 )
				self.ToastHeaderWidget:setTopBottom( 0, 0, 36, 87 )
				self.clipFinished( ToastHeaderWidget, {} )
			end
		}
	}
	CallingCardsFrameWidget.id = "CallingCardsFrameWidget"
	LUI.OverrideFunction_CallOriginalSecond( self, "close", function ( self )
		self.LOOTToastFrameBackground:close()
		self.ToastBonusOutline:close()
		self.FrameBackground:close()
		self.ToastHeaderWidget:close()
		self.CallingCardsFrameWidget:close()
	end )
	if PostLoadFunc then
		PostLoadFunc( self, controller, menu )
	end
	return self
end

